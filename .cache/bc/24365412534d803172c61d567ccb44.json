{"id":"../../../../node_modules/graphql-request/dist/createRequestBody.js","dependencies":[{"name":"/Users/wescole/AcrSupply/acrsupply/node_modules/graphql-request/dist/createRequestBody.js.map","includedInParent":true,"mtime":1611632545651},{"name":"/Users/wescole/AcrSupply/acrsupply/package.json","includedInParent":true,"mtime":1611636108175},{"name":"/Users/wescole/AcrSupply/acrsupply/.babelrc","includedInParent":true,"mtime":1611635880615},{"name":"/Users/wescole/AcrSupply/acrsupply/node_modules/graphql-request/package.json","includedInParent":true,"mtime":1611632545651},{"name":"extract-files","loc":{"line":6,"column":30},"parent":"/Users/wescole/AcrSupply/acrsupply/node_modules/graphql-request/dist/createRequestBody.js","resolved":"/Users/wescole/AcrSupply/acrsupply/node_modules/extract-files/public/index.js"},{"name":"form-data","loc":{"line":7,"column":42},"parent":"/Users/wescole/AcrSupply/acrsupply/node_modules/graphql-request/dist/createRequestBody.js","resolved":"/Users/wescole/AcrSupply/acrsupply/node_modules/form-data/lib/browser.js"}],"generated":{"js":"\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extract_files_1 = require(\"extract-files\");\nvar form_data_1 = __importDefault(require(\"form-data\"));\n/**\n * Duck type if NodeJS stream\n * https://github.com/sindresorhus/is-stream/blob/3750505b0727f6df54324784fe369365ef78841e/index.js#L3\n */\nvar isExtractableFileEnhanced = function (value) {\n    return extract_files_1.isExtractableFile(value) ||\n        (value !== null && typeof value === 'object' && typeof value.pipe === 'function');\n};\n/**\n * Returns Multipart Form if body contains files\n * (https://github.com/jaydenseric/graphql-multipart-request-spec)\n * Otherwise returns JSON\n */\nfunction createRequestBody(query, variables) {\n    var _a = extract_files_1.extractFiles({ query: query, variables: variables }, '', isExtractableFileEnhanced), clone = _a.clone, files = _a.files;\n    if (files.size === 0) {\n        return JSON.stringify(clone);\n    }\n    var Form = typeof FormData === 'undefined' ? form_data_1.default : FormData;\n    var form = new Form();\n    form.append('operations', JSON.stringify(clone));\n    var map = {};\n    var i = 0;\n    files.forEach(function (paths) {\n        map[++i] = paths;\n    });\n    form.append('map', JSON.stringify(map));\n    i = 0;\n    files.forEach(function (paths, file) {\n        form.append(\"\" + ++i, file);\n    });\n    return form;\n}\nexports.default = createRequestBody;\n"},"sourceMaps":{"js":{"version":3,"file":"createRequestBody.js","sourceRoot":"","sources":["../src/createRequestBody.ts"],"names":[],"mappings":";;;;;AAAA,+CAAgF;AAChF,wDAAoC;AAIpC;;;GAGG;AACH,IAAM,yBAAyB,GAAG,UAAC,KAAU;IAC3C,OAAA,iCAAiB,CAAC,KAAK,CAAC;QACxB,CAAC,KAAK,KAAK,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,CAAC,IAAI,KAAK,UAAU,CAAC;AADjF,CACiF,CAAA;AAEnF;;;;GAIG;AACH,SAAwB,iBAAiB,CAAC,KAAa,EAAE,SAAqB;IACtE,IAAA,KAAmB,4BAAY,CAAC,EAAE,KAAK,OAAA,EAAE,SAAS,WAAA,EAAE,EAAE,EAAE,EAAE,yBAAyB,CAAC,EAAlF,KAAK,WAAA,EAAE,KAAK,WAAsE,CAAA;IAE1F,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,EAAE;QACpB,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;KAC7B;IAED,IAAM,IAAI,GAAG,OAAO,QAAQ,KAAK,WAAW,CAAC,CAAC,CAAC,mBAAY,CAAC,CAAC,CAAC,QAAQ,CAAA;IAEtE,IAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAA;IAEvB,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAA;IAEhD,IAAM,GAAG,GAAgC,EAAE,CAAA;IAC3C,IAAI,CAAC,GAAG,CAAC,CAAA;IACT,KAAK,CAAC,OAAO,CAAC,UAAC,KAAK;QAClB,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAA;IAClB,CAAC,CAAC,CAAA;IACF,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAA;IAEvC,CAAC,GAAG,CAAC,CAAA;IACL,KAAK,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,IAAI;QACxB,IAAI,CAAC,MAAM,CAAC,KAAG,EAAE,CAAG,EAAE,IAAW,CAAC,CAAA;IACpC,CAAC,CAAC,CAAA;IAEF,OAAO,IAAgB,CAAA;AACzB,CAAC;AA1BD,oCA0BC","sourcesContent":[null]}},"error":null,"hash":"cbf70ddab3167ba5f7885421faa3bd11","cacheData":{"env":{}}}